(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[552],{6515:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/setting",function(){return n(7464)}])},7464:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return M}});var t=n(5893),i=n(7294),s=n(8017),o=n(124),a=n(3327),c=n(5666),l=n.n(c),u=n(980),d=n(4860),h=n(7389),x=n(1614),f=n(2804),m=n(6064),v=n(2083),j=n(813);function p(e,r,n,t,i,s,o){try{var a=e[s](o),c=a.value}catch(l){return void n(l)}a.done?r(c):Promise.resolve(c).then(t,i)}function y(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=[],t=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done)&&(n.push(o.value),!r||n.length!==r);t=!0);}catch(c){i=!0,s=c}finally{try{t||null==a.return||a.return()}finally{if(i)throw s}}return n}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g=function(){var e,r=y((0,f.FV)(m.gT),2),n=r[0],i=r[1],o=(0,d.q)(),a=o.isOpen,c=o.onOpen,g=o.onClose,b=(0,u.useToast)(),w=(e=l().mark((function e(){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new j.DB("log"),e.next=3,r.openDB();case 3:return 0!==n.length&&i([]),e.next=6,r.count();case 6:if(e.t0=e.sent,0===e.t0){e.next=13;break}return e.next=10,r.deleteDB();case 10:b({title:"\u5b8c\u5168\u306b\u524a\u9664\u3057\u307e\u3057\u305f",status:"info",duration:9e3,isClosable:!0}),e.next=14;break;case 13:b({title:"\u30ed\u30b0\u30c7\u30fc\u30bf\u306f\u3059\u3067\u306b\u7a7a\u3067\u3059",status:"error",duration:9e3,isClosable:!0});case 14:g();case 15:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,i){var s=e.apply(r,n);function o(e){p(s,t,i,o,a,"next",e)}function a(e){p(s,t,i,o,a,"throw",e)}o(void 0)}))});return(0,t.jsxs)(s.xu,{children:[(0,t.jsx)(h.z,{size:"xs",color:(0,v.O)("textPrimary"),variant:"link",onClick:c,children:"\u30ed\u30b0\u30c7\u30fc\u30bf\u3092\u3059\u3079\u3066\u524a\u9664\u3059\u308b"}),(0,t.jsxs)(x.u_,{isOpen:a,onClose:g,isCentered:!0,children:[(0,t.jsx)(x.ZA,{}),(0,t.jsxs)(x.hz,{children:[(0,t.jsx)(x.xB,{children:"\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b\uff1f"}),(0,t.jsx)(x.ol,{size:"lg"}),(0,t.jsx)(x.fe,{color:(0,v.O)("textSecondly"),children:"\u3053\u306e\u64cd\u4f5c\u306f\u5143\u306b\u306f\u623b\u305b\u307e\u305b\u3093\u3002"}),(0,t.jsxs)(x.mz,{children:[(0,t.jsx)(h.z,{backgroundColor:(0,v.O)("mainPrimary"),color:(0,v.O)("textPrimary"),marginRight:".5rem",onClick:w,children:"\u524a\u9664"}),(0,t.jsx)(h.z,{variant:"ghost",color:(0,v.O)("textPrimary"),mr:3,onClick:g,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]})]})]})},b=n(17),w=n(3692);function k(e,r,n,t,i,s,o){try{var a=e[s](o),c=a.value}catch(l){return void n(l)}a.done?r(c):Promise.resolve(c).then(t,i)}function C(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=[],t=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done)&&(n.push(o.value),!r||n.length!==r);t=!0);}catch(c){i=!0,s=c}finally{try{t||null==a.return||a.return()}finally{if(i)throw s}}return n}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var O=function(){var e,r=C((0,f.FV)(m.iX),2),n=r[0],i=r[1],o=(0,u.useToast)(),a=(e=l().mark((function e(){var r,t,s,a,c,u,d,h,x;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=3;break}return o({title:"\u30ed\u30b0\u30c7\u30fc\u30bf\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",status:"error",duration:9e3,isClosable:!0}),e.abrupt("return");case 3:return r=!1,t=new j.DB("log"),e.next=7,t.openDB();case 7:s=!0,a=!1,c=void 0,e.prev=8,u=n.split("\n")[Symbol.iterator]();case 10:if(s=(d=u.next()).done){e.next=26;break}if(h=d.value,!(x=(0,w.WV)(h))){e.next=23;break}return r=!0,e.prev=15,e.next=18,t.add({label:x.label,code:x.code,type:x.type,campus:x.campus,date:new Date(x.date)});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(15);case 23:s=!0,e.next=10;break;case 26:e.next=32;break;case 28:e.prev=28,e.t1=e.catch(8),a=!0,c=e.t1;case 32:e.prev=32,e.prev=33,s||null==u.return||u.return();case 35:if(e.prev=35,!a){e.next=38;break}throw c;case 38:return e.finish(35);case 39:return e.finish(32);case 40:o(r?{title:"\u30ed\u30b0\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002",status:"info",duration:9e3,isClosable:!0}:{title:"\u30ed\u30b0\u66f4\u65b0\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002",status:"error",duration:9e3,isClosable:!0}),i("");case 42:case"end":return e.stop()}}),e,null,[[8,28,32,40],[15,20],[33,,35,39]])})),function(){var r=this,n=arguments;return new Promise((function(t,i){var s=e.apply(r,n);function o(e){k(s,t,i,o,a,"next",e)}function a(e){k(s,t,i,o,a,"throw",e)}o(void 0)}))});return(0,t.jsxs)(s.xu,{children:[(0,t.jsx)(b.g,{placeholder:"\u30ed\u30b0\u30c7\u30fc\u30bf\u3092\u5165\u529b",value:n,onChange:function(e){i(e.target.value)},resize:"none",height:"10rem"}),(0,t.jsx)(h.z,{onClick:a,marginLeft:"66%",color:(0,v.O)("textPrimary"),variant:"ghost",children:"\u8aad\u307f\u8fbc\u3080"})]})},E=n(8448),_=n(6081),z=n(4096),P=n(9444),D=n(155),S=n(3854),T=n(6729),B=n(6150),N=n(6618),A=function(){var e=(0,u.useColorMode)(),r=e.colorMode,n=e.toggleColorMode;return(0,t.jsxs)(i.Fragment,{children:[(0,t.jsx)(_.DE,{as:D.nRx,color:(0,v.O)("mainSecondly")}),"\u30c6\u30fc\u30de\u5909\u66f4",(0,t.jsx)(s.xu,{margin:".5rem 0 1.5rem 1.5rem",children:(0,t.jsxs)(T.NI,{display:"flex",alignItems:"center",children:[(0,t.jsx)(B.r,{isChecked:"dark"===r,onChange:function(){return n()},id:"theme-switch",size:"md"}),(0,t.jsx)(N.l,{htmlFor:"theme-switch",mb:"0",fontWeight:"bold",marginLeft:".5rem",children:"\u30c0\u30fc\u30af\u30e2\u30fc\u30c9\u306b\u5909\u66f4"})]})})]})},I=function(){return(0,t.jsxs)(a.h,{title:"\u8a2d\u5b9a",children:[(0,t.jsx)(E.M,{children:(0,t.jsxs)(_.QI,{width:"18rem",fontSize:"1.2rem",fontWeight:"bold",margin:"1rem 0 1rem 0",spacing:"3",listStyleType:"none",children:[(0,t.jsxs)(_.HC,{children:[(0,t.jsx)(_.DE,{as:D.v8B,color:(0,v.O)("mainSecondly")}),"\u5225\u306e\u30ed\u30b0\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u3080",(0,t.jsx)(O,{})]}),(0,t.jsx)(_.HC,{children:(0,t.jsx)(A,{})}),(0,t.jsx)(_.HC,{children:(0,t.jsxs)(z.k,{children:[(0,t.jsx)(_.DE,{as:D.sUY,color:(0,v.O)("mainSecondly")}),(0,t.jsx)(P.r,{href:"https://github.com/tdu-logcation/web/issues",isExternal:!0,children:(0,t.jsxs)(z.k,{children:["\u30d0\u30b0\u5831\u544a",(0,t.jsx)(S.x9Z,{})]})})]})}),(0,t.jsx)(_.HC,{children:(0,t.jsxs)(z.k,{children:[(0,t.jsx)(_.DE,{as:D.JOq,color:(0,v.O)("mainSecondly")}),(0,t.jsx)(P.r,{href:"https://github.com/tdu-logcation/web",isExternal:!0,children:(0,t.jsxs)(z.k,{children:["\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u898b\u308b",(0,t.jsx)(S.x9Z,{})]})})]})})]})}),(0,t.jsx)(E.M,{margin:"3rem 0 0 0",children:(0,t.jsx)(g,{})})]})},M=function(){return(0,t.jsx)(o.T,{children:(0,t.jsx)(s.xu,{margin:"2.3rem .1rem 1rem .1rem",children:(0,t.jsx)(I,{})})})}}},function(e){e.O(0,[774,260,556,159,165,324,888,179],(function(){return r=6515,e(e.s=r);var r}));var r=e.O();_N_E=r}]);